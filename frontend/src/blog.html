<template>
    <require from="./markdown-format"></require>
    <require from="./trim-html-converter"></require>
    <section>
        <div class="post" repeat.for="post of skyApi.posts">
            <a class="title" route-href="route: post; params.bind: { id: post.id }"><h2>${post.title}</h2></a>
            <p class="grey">by ${post.author}, ${secondsToDate(post.date)} at ${secondsToTime(post.date)}</p>
            <p>
                <div innerhtml.bind="post.content | markdownFormat | trimHtml : previewLength"></div>
            </p>
        </div>
        <div class="post" show.bind="skyApi.posts.length == 0">
            Couldn't find any posts. Sorry :(
        </div>
    </section>
</template>