<template>
    <require from="widgets/post-widget"></require>
    <section class="contentArea">
        <div class="siteBody blogPostBody" show.bind="query != undefined">
            Search Results for "${query}"
        </div>
        <post-widget 
            repeat.for="post of posts" 
            post.bind="post" 
            content-length.bind="previewLength" 
            show-title-link=true 
            show-comments-link=true 
            use-long-author-date=false 
            show-last-edited-date=false
            show-map-button=false>
        </post-widget>
        <div class="siteBody blogPostBody" show.bind="posts.length == 0">
            Couldn't find any posts. Sorry :(
        </div>
        <div if.bind="!isSearchPage()&& !isDraftPage()">
            <div show.bind="start != 0">
                <a class="nextPrevPageLink" route-href="route: blog; params.bind: { start: (start-num<0)?0:start-num }">newer posts</a>
            </div>
            <div show.bind="remainingPosts > 0">
                <a class="nextPrevPageLink" route-href="route: blog; params.bind: { start: start+num }">older posts</a>
            </div>
        </div>
        <div if.bind="isDraftPage()">
            <div show.bind="start != 0">
                <a class="nextPrevPageLink" route-href="route: drafts; params.bind: { start: (start-num<0)?0:start-num }">newer drafts</a>
            </div>
            <div show.bind="remainingPosts > 0">
                <a class="nextPrevPageLink" route-href="route: drafts; params.bind: { start: start+num }">older drafts</a>
            </div>
        </div>
        <div show.bind="isSearchPage()">
            <div show.bind="start != 0">
                <a class="nextPrevPageLink" route-href="route: search; params.bind: {query: query, start: (start-num<0)?0:start-num }">previous results</a>
            </div>
            <div show.bind="remainingPosts > 0">
                <a class="nextPrevPageLink" route-href="route: search; params.bind: {query: query, start: start+num }">more results</a>
            </div>
        </div>
    </section>
</template>