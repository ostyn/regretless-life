<template>
    <require from="converters/markdown-format"></require>
    <require from="widgets/editor-widget"></require>
    <div class="post">
        <p>
            <input class="textbox" type="text" placeholder="title" value.bind="post.title" focus="true"></input>
        </p>
        <p>
            <input class="textbox" type="text" placeholder="place" value.bind="post.locationInfo.name"></input>
        </p>
        <p>
            <input class="textbox" type="text" placeholder="hero photo url" value.bind="post.heroPhotoUrl"></input>
        </p>
        <div title="
            ![alt-text](Image URL) is an image
            [google](http://google.com) is a link
            #header 1
            ##header 2 etc.
            _italics_
            **bold**
            __also bold__
            >indent the paragraph
            ">Mouse-over me for hints!
        </div>
        <p>
            <editor-widget class="postEditor" markdown.two-way ="post.content" starting-value.one-time="post.content | markdownFormat"></editor-widget>
        </p>
        <button if.bind="editing" disabled.bind="activelyContactingServer" click.trigger="delete()">Delete Post</button>
        <button click.trigger="save()" disabled.bind="activelyContactingServer">Save</button>
        <button if.bind="post.isDraft" disabled.bind="activelyContactingServer" click.trigger="publish()">Publish</button>
        <button if.bind="!post.isDraft" disabled.bind="activelyContactingServer" click.trigger="unpublish()">Unpublish</button>
    </div>
</template>