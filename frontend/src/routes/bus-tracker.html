<template>
    <select if.bind="routes" value.bind="selectedRoute">
        <option model.bind="null">Choose...</option>
        <option repeat.for="route of routes.data" model.bind="route">
            ${route.longName}
        </option>
    </select>
    <select if.bind="stops" value.bind="selectedStop">
        <option model.bind="null">Choose...</option>
        <option repeat.for="stop of stops.data" model.bind="stop">
            ${stop.stopDescription}(${stop.stopId})
        </option>
    </select>
    <a if.bind="selectedRoute && selectedStop" route-href="route: bus; params.bind: {routeId:selectedRoute.routeId, stopId: selectedStop.stopId}">Link to Stop</a>
    <div if.bind="notCurrentlyRequesting">Arrival Estimates</div>
    <div if.bind="!notCurrentlyRequesting">Arrival Estimates Refreshing...</div>
    <div if.bind="currentStopInfo">Estimates are ${timeSinceLastDataTimestamp} seconds old</div>
    <div if.bind="currentStopInfo" repeat.for="arriving of currentStopInfo.data">${arriving.routeLongName}: ${arriving.status} to ${arriving.destination}</div>
</template>