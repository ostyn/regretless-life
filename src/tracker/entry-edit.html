<template>
    <require from="tracker/tracker.css"></require>
    <h4>moods</h4>
    <label class.bind="m.id === entry.mood ? 'activeMood' : 'inactiveMood'" repeat.for="m of moods">
        ${m.emoji}
        <input show.bind="false" type="radio" name="moodSelector" model.bind="m.id" checked.bind="entry.mood">
    </label>
    <h4>when</h4>
    <input type="date" value.bind="entry.date" max.bind="date" name="" id="">

    <h4>activities</h4>
    <div repeat.for="activity of nonArchivedActivities" class="activityContainer cursor" click.trigger="addActivity(activity.id)">
        <div class="activityEmoji">${activity.emoji}</div>
        <div class="activityName">${activity.name}</div>
    </div>
    <div>
        <textarea class="entryNote" value.bind="entry.note"></textarea>
    </div>
    <div if.bind="activities.length > 0">
        <div repeat.for="[id, count] of entry.activities" class="activityContainer cursor" click.trigger="removeActivity(id)">
            <div class="activityEmoji">${findActivity(id).emoji}</div>
            <div class="activityName">
                ${findActivity(id).name}
                <span class="badge" if.bind="count>1">${count}</span>
            </div>
        </div>
    </div>
    <button disabled.bind="entry.mood === undefined" click.trigger="submitEntry()">submit</button>
</template>